https://www.youtube.com/watch?v=xNefZ51jHKg&t=148s

Note: Virtualization should be emabled to work with docker/minikube [how to check ?  task manager-->performance ---> cpu ]

minikube start
minikube status
kubectl get no

to get inside of minikube node-------> minikube ssh


create a folder --example mk and create file pod-service.yaml

=================
apiVersion: v1
kind: Pod
metadata:
  name: nginx
  labels:
    app.kubernetes.io/name: proxy
spec:
  containers:
  - name: nginx
    image: nginx:latest
    ports:
      - containerPort: 80
        name: http-web-svc

---
apiVersion: v1
kind: Service
metadata:
  name: nginx-service
spec:
  selector:
    app.kubernetes.io/name: proxy
  ports:
  - name: name-of-service-port
    protocol: TCP
    port: 80
    targetPort: 80
  type: NodePort 
=========================

 then kubectl apply -f file-name.yaml

 minikube service nginx-service=================> to get the URL for the service

=========================================CD using argocd==========================

1)Install argocd operator using [https://operatorhub.io/operator/argocd-operator]

curl -sL https://github.com/operator-framework/operator-lifecycle-manager/releases/download/v0.25.0/install.sh | bash -s v0.25.0
kubectl create -f https://operatorhub.io/install/argocd-operator.yaml
kubectl get csv -n operators

2)then create a file like argo-cd.yaml
==
apiVersion: argoproj.io/v1alpha1
kind: ArgoCD
metadata:
  name: example-argocd
  labels:
    example: basic
spec: {}
==

3)then apply it-------> kubectl apply -f argo-cd.yaml

4) edit example-argocd-server config from cluster ip to nodeport ---------->Type: NodePort
  kubectl edit example-argocd-server

5)  minikube service example-argocd-server

6) access the url from browser ------->  http://127.0.0.1:51858

7)kubectl edit secret example-argocd-cluster ------------------> to get the argocd secret

8) echo REJTeXNYZlVDaXBON3puMkZ3QUVjTFliSDB1ZzRLTzE= | base64 -d ---------------------> decoding to get the argocd passsword

so arcd creds -----username=admin 
            passowrd=output of the above one

9) create a new app in ARCOCD  ------------> 

                      **GENERAL**
                      Application name= jaswanth
                      project name= default
                      sync policy= automatic
                      **SOURCE**
                      Repository URL= https://github.com/iam-veeramalla/Jenkins-Zero-To-Hero
                      path= java-maven-sonar-argocd-helm-k8s/spring-boot-app-manifests
                      **DESTINATION**
                      cluster url = https://kubernetes.default.svc
                      namespace = default







